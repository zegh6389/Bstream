"use strict";exports.id=2490,exports.ids=[2490],exports.modules={4553:(e,t,n)=>{n.d(t,{m:()=>s});class s{async sign(e,t,n){return e}}},82490:(e,t,n)=>{n.d(t,{getDefaultRoleAssumer:()=>ne,getDefaultRoleAssumerWithWebIdentity:()=>nt});var s=n(36576),r=n(43208),i=n(22218),o=n(39824),a=n(17005),l=n(7821),c=n(60043),d=n(18154),u=n(68270),p=n(59727),h=n(71508),m=n(27322),f=n(42146),g=n(90378);let y=async(e,t,n)=>({operation:(0,g.u)(t).operation,region:await (0,g.t)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),S=e=>{let t=[];if("AssumeRoleWithWebIdentity"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})});return t},P=e=>Object.assign(e,{stsClientCtor:eC}),E=e=>{let t=P(e);return Object.assign((0,f.h)(t),{authSchemePreference:(0,g.t)(e.authSchemePreference??[])})},w=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),b={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var I=n(89689),A=n(41993),v=n(88551),x=n(39267),C=n(97797),R=n(4553),k=n(5334),T=n(1226),D=n(66426),$=n(11396),K=n(75843),O=n(68378),j=n(139),W=n(37979),z=n(92171),M=n(90599);let U="required",F="type",q="argv",_="booleanEquals",H="stringEquals",L="sigv4",N="us-east-1",V="endpoint",G="https://sts.{Region}.{PartitionResult#dnsSuffix}",B="tree",Z="error",J="getAttr",Y={[U]:!1,[F]:"String"},Q={[U]:!0,default:!1,[F]:"Boolean"},X={ref:"Endpoint"},ee={fn:"isSet",[q]:[{ref:"Region"}]},et={ref:"Region"},en={fn:"aws.partition",[q]:[et],assign:"PartitionResult"},es={ref:"UseFIPS"},er={ref:"UseDualStack"},ei={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:L,signingName:"sts",signingRegion:N}]},headers:{}},eo={},ea={conditions:[{fn:H,[q]:[et,"aws-global"]}],[V]:ei,[F]:V},el={fn:_,[q]:[es,!0]},ec={fn:_,[q]:[er,!0]},ed={fn:J,[q]:[{ref:"PartitionResult"},"supportsFIPS"]},eu={ref:"PartitionResult"},ep={fn:_,[q]:[!0,{fn:J,[q]:[eu,"supportsDualStack"]}]},eh=[{fn:"isSet",[q]:[X]}],em=[el],ef=[ec],eg={version:"1.0",parameters:{Region:Y,UseDualStack:Q,UseFIPS:Q,Endpoint:Y,UseGlobalEndpoint:Q},rules:[{conditions:[{fn:_,[q]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[q]:eh},ee,en,{fn:_,[q]:[es,!1]},{fn:_,[q]:[er,!1]}],rules:[{conditions:[{fn:H,[q]:[et,"ap-northeast-1"]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,"ap-south-1"]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,"ap-southeast-1"]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,"ap-southeast-2"]}],endpoint:ei,[F]:V},ea,{conditions:[{fn:H,[q]:[et,"ca-central-1"]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,"eu-central-1"]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,"eu-north-1"]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,"eu-west-1"]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,"eu-west-2"]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,"eu-west-3"]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,"sa-east-1"]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,N]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,"us-east-2"]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,"us-west-1"]}],endpoint:ei,[F]:V},{conditions:[{fn:H,[q]:[et,"us-west-2"]}],endpoint:ei,[F]:V},{endpoint:{url:G,properties:{authSchemes:[{name:L,signingName:"sts",signingRegion:"{Region}"}]},headers:eo},[F]:V}],[F]:B},{conditions:eh,rules:[{conditions:em,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[F]:Z},{conditions:ef,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[F]:Z},{endpoint:{url:X,properties:eo,headers:eo},[F]:V}],[F]:B},{conditions:[ee],rules:[{conditions:[en],rules:[{conditions:[el,ec],rules:[{conditions:[{fn:_,[q]:[!0,ed]},ep],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eo,headers:eo},[F]:V}],[F]:B},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[F]:Z}],[F]:B},{conditions:em,rules:[{conditions:[{fn:_,[q]:[ed,!0]}],rules:[{conditions:[{fn:H,[q]:[{fn:J,[q]:[eu,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:eo,headers:eo},[F]:V},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:eo,headers:eo},[F]:V}],[F]:B},{error:"FIPS is enabled but this partition does not support FIPS",[F]:Z}],[F]:B},{conditions:ef,rules:[{conditions:[ep],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eo,headers:eo},[F]:V}],[F]:B},{error:"DualStack is enabled but this partition does not support DualStack",[F]:Z}],[F]:B},ea,{endpoint:{url:G,properties:eo,headers:eo},[F]:V}],[F]:B}],[F]:B},{error:"Invalid Configuration: Missing Region",[F]:Z}]},ey=new M.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),eS=(e,t={})=>ey.get(e,()=>(0,M.sO)(eg,{endpointParams:e,logger:t.logger}));M.mw.aws=z.UF;let eP=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??j.E,base64Encoder:e?.base64Encoder??j.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??eS,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??S,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new x.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new R.m}],logger:e?.logger??new m.N4,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??O.D,utf8Decoder:e?.utf8Decoder??W.ar,utf8Encoder:e?.utf8Encoder??W.Pq});var eE=n(52262);let ew=e=>{(0,m.I9)(process.version);let t=(0,eE.I)(e),n=()=>t().then(m.lT),s=eP(e);(0,A.I)(process.version);let r={profile:e?.profile,logger:s.logger};return{...s,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,T.Z)(v.$,r),bodyLengthChecker:e?.bodyLengthChecker??$.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,C.pf)({serviceId:s.serviceId,clientVersion:I.rE}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4")||(async t=>await e.credentialDefaultProvider(t?.__config||{})()),signer:new x.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new R.m}],maxAttempts:e?.maxAttempts??(0,T.Z)(h.qs,e),region:e?.region??(0,T.Z)(a.GG,{...a.zH,...r}),requestHandler:D.$c.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,T.Z)({...h.kN,default:async()=>(await n()).retryMode||K.L0},e),sha256:e?.sha256??k.V.bind(null,"sha256"),streamCollector:e?.streamCollector??D.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,T.Z)(a.e$,r),useFipsEndpoint:e?.useFipsEndpoint??(0,T.Z)(a.Ko,r),userAgentAppId:e?.userAgentAppId??(0,T.Z)(C.hV,r)}};var eb=n(41352),eI=n(31734);let eA=e=>{let t=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(e){let n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){s=e},credentials:()=>s}},ev=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),ex=(e,t)=>{let n=Object.assign((0,eb.Rq)(e),(0,m.xA)(e),(0,eI.eS)(e),eA(e));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,eb.$3)(n),(0,m.uv)(n),(0,eI.jt)(n),ev(n))};class eC extends m.Kj{config;constructor(...[e]){let t=ew(e||{});super(t),this.initConfig=t;let n=w(t),m=(0,o.Dc)(n),f=(0,h.$z)(m),g=(0,a.TD)(f),S=(0,s.OV)(g),P=ex(E((0,p.Co)(S)),e?.extensions||[]);this.config=P,this.middlewareStack.use((0,o.sM)(this.config)),this.middlewareStack.use((0,h.ey)(this.config)),this.middlewareStack.use((0,u.vK)(this.config)),this.middlewareStack.use((0,s.TC)(this.config)),this.middlewareStack.use((0,r.Y7)(this.config)),this.middlewareStack.use((0,i.n4)(this.config)),this.middlewareStack.use((0,l.w)(this.config,{httpAuthSchemeParametersProvider:y,identityProviderConfigProvider:async e=>new c.h({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,d.l)(this.config))}destroy(){super.destroy()}}var eR=n(8839);class ek extends m.TJ{constructor(e){super(e),Object.setPrototypeOf(this,ek.prototype)}}let eT=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:m.$H}}),eD=e=>({...e,...e.Credentials&&{Credentials:eT(e.Credentials)}});class e$ extends ek{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,e$.prototype)}}class eK extends ek{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,eK.prototype)}}class eO extends ek{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,eO.prototype)}}class ej extends ek{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,ej.prototype)}}class eW extends ek{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,eW.prototype)}}class ez extends ek{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,ez.prototype)}}let eM=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:m.$H}}),eU=e=>({...e,...e.Credentials&&{Credentials:eT(e.Credentials)}});class eF extends ek{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,eF.prototype)}}var eq=n(18446);let e_=async(e,t)=>{let n;return n=tY({...e0(e,t),[tf]:ty,[tV]:tm}),tp(t,th,"/",void 0,n)},eH=async(e,t)=>{let n;return n=tY({...e1(e,t),[tf]:tE,[tV]:tm}),tp(t,th,"/",void 0,n)},eL=async(e,t)=>{if(e.statusCode>=300)return eV(e,t);let n=await (0,eq.t_)(e.body,t),s={};return s=te(n.AssumeRoleResult,t),{$metadata:td(e),...s}},eN=async(e,t)=>{if(e.statusCode>=300)return eV(e,t);let n=await (0,eq.t_)(e.body,t),s={};return s=tt(n.AssumeRoleWithWebIdentityResult,t),{$metadata:td(e),...s}},eV=async(e,t)=>{let n={...e,body:await (0,eq.FI)(e.body,t)},s=tQ(e,n.body);switch(s){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await eG(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await eY(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await eQ(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await eX(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await eB(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await eZ(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await eJ(n,t);default:return tu({output:e,parsedBody:n.body.Error,errorCode:s})}},eG=async(e,t)=>{let n=e.body,s=ts(n.Error,t),r=new e$({$metadata:td(e),...s});return(0,m.Mw)(r,n)},eB=async(e,t)=>{let n=e.body,s=tr(n.Error,t),r=new eF({$metadata:td(e),...s});return(0,m.Mw)(r,n)},eZ=async(e,t)=>{let n=e.body,s=ti(n.Error,t),r=new eW({$metadata:td(e),...s});return(0,m.Mw)(r,n)},eJ=async(e,t)=>{let n=e.body,s=to(n.Error,t),r=new ez({$metadata:td(e),...s});return(0,m.Mw)(r,n)},eY=async(e,t)=>{let n=e.body,s=ta(n.Error,t),r=new eK({$metadata:td(e),...s});return(0,m.Mw)(r,n)},eQ=async(e,t)=>{let n=e.body,s=tl(n.Error,t),r=new eO({$metadata:td(e),...s});return(0,m.Mw)(r,n)},eX=async(e,t)=>{let n=e.body,s=tc(n.Error,t),r=new ej({$metadata:td(e),...s});return(0,m.Mw)(r,n)},e0=(e,t)=>{let n={};if(null!=e[tW]&&(n[tW]=e[tW]),null!=e[tz]&&(n[tz]=e[tz]),null!=e[tT]){let s=e2(e[tT],t);e[tT]?.length===0&&(n.PolicyArns=[]),Object.entries(s).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}if(null!=e[tk]&&(n[tk]=e[tk]),null!=e[tv]&&(n[tv]=e[tv]),null!=e[tH]){let s=e9(e[tH],t);e[tH]?.length===0&&(n.Tags=[]),Object.entries(s).forEach(([e,t])=>{n[`Tags.${e}`]=t})}if(null!=e[tN]){let s=e5(e[tN],t);e[tN]?.length===0&&(n.TransitiveTagKeys=[]),Object.entries(s).forEach(([e,t])=>{n[`TransitiveTagKeys.${e}`]=t})}if(null!=e[tC]&&(n[tC]=e[tC]),null!=e[tq]&&(n[tq]=e[tq]),null!=e[tL]&&(n[tL]=e[tL]),null!=e[tF]&&(n[tF]=e[tF]),null!=e[t$]){let s=e8(e[t$],t);e[t$]?.length===0&&(n.ProvidedContexts=[]),Object.entries(s).forEach(([e,t])=>{n[`ProvidedContexts.${e}`]=t})}return n},e1=(e,t)=>{let n={};if(null!=e[tW]&&(n[tW]=e[tW]),null!=e[tz]&&(n[tz]=e[tz]),null!=e[tB]&&(n[tB]=e[tB]),null!=e[tK]&&(n[tK]=e[tK]),null!=e[tT]){let s=e2(e[tT],t);e[tT]?.length===0&&(n.PolicyArns=[]),Object.entries(s).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}return null!=e[tk]&&(n[tk]=e[tk]),null!=e[tv]&&(n[tv]=e[tv]),n},e2=(e,t)=>{let n={},s=1;for(let r of e)null!==r&&(Object.entries(e4(r,t)).forEach(([e,t])=>{n[`member.${s}.${e}`]=t}),s++);return n},e4=(e,t)=>{let n={};return null!=e[tZ]&&(n[tZ]=e[tZ]),n},e6=(e,t)=>{let n={};return null!=e[tD]&&(n[tD]=e[tD]),null!=e[tA]&&(n[tA]=e[tA]),n},e8=(e,t)=>{let n={},s=1;for(let r of e)null!==r&&(Object.entries(e6(r,t)).forEach(([e,t])=>{n[`member.${s}.${e}`]=t}),s++);return n},e3=(e,t)=>{let n={};return null!=e[tR]&&(n[tR]=e[tR]),null!=e[tG]&&(n[tG]=e[tG]),n},e5=(e,t)=>{let n={},s=1;for(let t of e)null!==t&&(n[`member.${s}`]=t,s++);return n},e9=(e,t)=>{let n={},s=1;for(let r of e)null!==r&&(Object.entries(e3(r,t)).forEach(([e,t])=>{n[`member.${s}.${e}`]=t}),s++);return n},e7=(e,t)=>{let n={};return null!=e[tS]&&(n[tS]=(0,m.lK)(e[tS])),null!=e[tw]&&(n[tw]=(0,m.lK)(e[tw])),n},te=(e,t)=>{let n={};return null!=e[tI]&&(n[tI]=tn(e[tI],t)),null!=e[tP]&&(n[tP]=e7(e[tP],t)),null!=e[tO]&&(n[tO]=(0,m.xW)(e[tO])),null!=e[tF]&&(n[tF]=(0,m.lK)(e[tF])),n},tt=(e,t)=>{let n={};return null!=e[tI]&&(n[tI]=tn(e[tI],t)),null!=e[tU]&&(n[tU]=(0,m.lK)(e[tU])),null!=e[tP]&&(n[tP]=e7(e[tP],t)),null!=e[tO]&&(n[tO]=(0,m.xW)(e[tO])),null!=e[tj]&&(n[tj]=(0,m.lK)(e[tj])),null!=e[tb]&&(n[tb]=(0,m.lK)(e[tb])),null!=e[tF]&&(n[tF]=(0,m.lK)(e[tF])),n},tn=(e,t)=>{let n={};return null!=e[tg]&&(n[tg]=(0,m.lK)(e[tg])),null!=e[tM]&&(n[tM]=(0,m.lK)(e[tM])),null!=e[t_]&&(n[t_]=(0,m.lK)(e[t_])),null!=e[tx]&&(n[tx]=(0,m.Y0)((0,m.t_)(e[tx]))),n},ts=(e,t)=>{let n={};return null!=e[tJ]&&(n[tJ]=(0,m.lK)(e[tJ])),n},tr=(e,t)=>{let n={};return null!=e[tJ]&&(n[tJ]=(0,m.lK)(e[tJ])),n},ti=(e,t)=>{let n={};return null!=e[tJ]&&(n[tJ]=(0,m.lK)(e[tJ])),n},to=(e,t)=>{let n={};return null!=e[tJ]&&(n[tJ]=(0,m.lK)(e[tJ])),n},ta=(e,t)=>{let n={};return null!=e[tJ]&&(n[tJ]=(0,m.lK)(e[tJ])),n},tl=(e,t)=>{let n={};return null!=e[tJ]&&(n[tJ]=(0,m.lK)(e[tJ])),n},tc=(e,t)=>{let n={};return null!=e[tJ]&&(n[tJ]=(0,m.lK)(e[tJ])),n},td=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),tu=(0,m.jr)(ek),tp=async(e,t,n,s,r)=>{let{hostname:i,protocol:o="https",port:a,path:l}=await e.endpoint(),c={protocol:o,hostname:i,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+n:l+n,headers:t};return void 0!==s&&(c.hostname=s),void 0!==r&&(c.body=r),new eI.Kd(c)},th={"content-type":"application/x-www-form-urlencoded"},tm="2011-06-15",tf="Action",tg="AccessKeyId",ty="AssumeRole",tS="AssumedRoleId",tP="AssumedRoleUser",tE="AssumeRoleWithWebIdentity",tw="Arn",tb="Audience",tI="Credentials",tA="ContextAssertion",tv="DurationSeconds",tx="Expiration",tC="ExternalId",tR="Key",tk="Policy",tT="PolicyArns",tD="ProviderArn",t$="ProvidedContexts",tK="ProviderId",tO="PackedPolicySize",tj="Provider",tW="RoleArn",tz="RoleSessionName",tM="SecretAccessKey",tU="SubjectFromWebIdentityToken",tF="SourceIdentity",tq="SerialNumber",t_="SessionToken",tH="Tags",tL="TokenCode",tN="TransitiveTagKeys",tV="Version",tG="Value",tB="WebIdentityToken",tZ="arn",tJ="message",tY=e=>Object.entries(e).map(([e,t])=>(0,m.$6)(e)+"="+(0,m.$6)(t)).join("&"),tQ=(e,t)=>t.Error?.Code!==void 0?t.Error.Code:404==e.statusCode?"NotFound":void 0;class tX extends m.uB.classBuilder().ep(b).m(function(e,t,n,s){return[(0,eR.TM)(n,this.serialize,this.deserialize),(0,p.rD)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,eD).ser(e_).de(eL).build(){}class t0 extends m.uB.classBuilder().ep(b).m(function(e,t,n,s){return[(0,eR.TM)(n,this.serialize,this.deserialize),(0,p.rD)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(eM,eU).ser(eH).de(eN).build(){}class t1 extends eC{}(0,m.J1)({AssumeRoleCommand:tX,AssumeRoleWithWebIdentityCommand:t0},t1);var t2=n(71885);let t4="us-east-1",t6=e=>{if("string"==typeof e?.Arn){let t=e.Arn.split(":");if(t.length>4&&""!==t[4])return t[4]}},t8=async(e,t,n)=>{let s="function"==typeof e?await e():e,r="function"==typeof t?await t():t;return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${s} (provider)`,`${r} (parent client)`,`${t4} (STS default)`),s??r??t4},t3=(e,t)=>{let n,s;return async(r,i)=>{if(s=r,!n){let{logger:r=e?.parentClientConfig?.logger,region:i,requestHandler:o=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e,l=await t8(i,e?.parentClientConfig?.region,a),c=!t9(o);n=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>s,region:l,requestHandler:c?o:void 0,logger:r})}let{Credentials:o,AssumedRoleUser:a}=await n.send(new tX(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let l=t6(a),c={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...l&&{accountId:l}};return(0,t2.g)(c,"CREDENTIALS_STS_ASSUME_ROLE","i"),c}},t5=(e,t)=>{let n;return async s=>{if(!n){let{logger:s=e?.parentClientConfig?.logger,region:r,requestHandler:i=e?.parentClientConfig?.requestHandler,credentialProviderLogger:o}=e,a=await t8(r,e?.parentClientConfig?.region,o),l=!t9(i);n=new t({profile:e?.parentClientConfig?.profile,region:a,requestHandler:l?i:void 0,logger:s})}let{Credentials:r,AssumedRoleUser:i}=await n.send(new t0(s));if(!r||!r.AccessKeyId||!r.SecretAccessKey)throw Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${s.RoleArn}`);let o=t6(i),a={accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,sessionToken:r.SessionToken,expiration:r.Expiration,...r.CredentialScope&&{credentialScope:r.CredentialScope},...o&&{accountId:o}};return o&&(0,t2.g)(a,"RESOLVED_ACCOUNT_ID","T"),(0,t2.g)(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},t9=e=>e?.metadata?.handlerProtocol==="h2",t7=(e,t)=>t?class extends e{constructor(e){for(let n of(super(e),t))this.middlewareStack.use(n)}}:e,ne=(e={},t)=>t3(e,t7(eC,t)),nt=(e={},t)=>t5(e,t7(eC,t))},89689:e=>{e.exports={rE:"3.858.0"}}};