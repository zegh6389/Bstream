"use strict";exports.id=7518,exports.ids=[7518],exports.modules={4553:(e,t,n)=>{n.d(t,{m:()=>r});class r{async sign(e,t,n){return e}}},14851:(e,t,n)=>{n.d(t,{w:()=>s});var r=n(27322);let s=(e,t)=>(0,r.Px)(e,t).then(e=>t.utf8Encoder(e))},17518:(e,t,n)=>{n.d(t,{getDefaultRoleAssumer:()=>nr,getDefaultRoleAssumerWithWebIdentity:()=>ns});var r=n(36576),s=n(43208),i=n(22218),o=n(82658),a=n(17005),l=n(7821),c=n(60043),d=n(18154),u=n(68270),p=n(59727),h=n(71508),m=n(27322),f=n(64424),g=n(90378);let y=async(e,t,n)=>({operation:(0,g.u)(t).operation,region:await (0,g.t)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),S=e=>{let t=[];if("AssumeRoleWithWebIdentity"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})});return t},E=e=>Object.assign(e,{stsClientCtor:eC}),P=e=>{let t=E(e);return Object.assign((0,f.h)(t),{authSchemePreference:(0,g.t)(e.authSchemePreference??[])})},w=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),b={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var I=n(24171),v=n(79639),A=n(15885),x=n(44165),C=n(67715),R=n(4553),k=n(5334),T=n(1226),D=n(66426),$=n(11396),K=n(75843),O=n(68378),j=n(139),W=n(37979),z=n(92171),M=n(90599);let U="required",q="type",F="argv",H="booleanEquals",V="stringEquals",_="sigv4",L="us-east-1",N="endpoint",G="https://sts.{Region}.{PartitionResult#dnsSuffix}",B="tree",Z="error",J="getAttr",Y={[U]:!1,[q]:"String"},Q={[U]:!0,default:!1,[q]:"Boolean"},X={ref:"Endpoint"},ee={fn:"isSet",[F]:[{ref:"Region"}]},et={ref:"Region"},en={fn:"aws.partition",[F]:[et],assign:"PartitionResult"},er={ref:"UseFIPS"},es={ref:"UseDualStack"},ei={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:_,signingName:"sts",signingRegion:L}]},headers:{}},eo={},ea={conditions:[{fn:V,[F]:[et,"aws-global"]}],[N]:ei,[q]:N},el={fn:H,[F]:[er,!0]},ec={fn:H,[F]:[es,!0]},ed={fn:J,[F]:[{ref:"PartitionResult"},"supportsFIPS"]},eu={ref:"PartitionResult"},ep={fn:H,[F]:[!0,{fn:J,[F]:[eu,"supportsDualStack"]}]},eh=[{fn:"isSet",[F]:[X]}],em=[el],ef=[ec],eg={version:"1.0",parameters:{Region:Y,UseDualStack:Q,UseFIPS:Q,Endpoint:Y,UseGlobalEndpoint:Q},rules:[{conditions:[{fn:H,[F]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[F]:eh},ee,en,{fn:H,[F]:[er,!1]},{fn:H,[F]:[es,!1]}],rules:[{conditions:[{fn:V,[F]:[et,"ap-northeast-1"]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,"ap-south-1"]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,"ap-southeast-1"]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,"ap-southeast-2"]}],endpoint:ei,[q]:N},ea,{conditions:[{fn:V,[F]:[et,"ca-central-1"]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,"eu-central-1"]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,"eu-north-1"]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,"eu-west-1"]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,"eu-west-2"]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,"eu-west-3"]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,"sa-east-1"]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,L]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,"us-east-2"]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,"us-west-1"]}],endpoint:ei,[q]:N},{conditions:[{fn:V,[F]:[et,"us-west-2"]}],endpoint:ei,[q]:N},{endpoint:{url:G,properties:{authSchemes:[{name:_,signingName:"sts",signingRegion:"{Region}"}]},headers:eo},[q]:N}],[q]:B},{conditions:eh,rules:[{conditions:em,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[q]:Z},{conditions:ef,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[q]:Z},{endpoint:{url:X,properties:eo,headers:eo},[q]:N}],[q]:B},{conditions:[ee],rules:[{conditions:[en],rules:[{conditions:[el,ec],rules:[{conditions:[{fn:H,[F]:[!0,ed]},ep],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eo,headers:eo},[q]:N}],[q]:B},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[q]:Z}],[q]:B},{conditions:em,rules:[{conditions:[{fn:H,[F]:[ed,!0]}],rules:[{conditions:[{fn:V,[F]:[{fn:J,[F]:[eu,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:eo,headers:eo},[q]:N},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:eo,headers:eo},[q]:N}],[q]:B},{error:"FIPS is enabled but this partition does not support FIPS",[q]:Z}],[q]:B},{conditions:ef,rules:[{conditions:[ep],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eo,headers:eo},[q]:N}],[q]:B},{error:"DualStack is enabled but this partition does not support DualStack",[q]:Z}],[q]:B},ea,{endpoint:{url:G,properties:eo,headers:eo},[q]:N}],[q]:B}],[q]:B},{error:"Invalid Configuration: Missing Region",[q]:Z}]},ey=new M.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),eS=(e,t={})=>ey.get(e,()=>(0,M.sO)(eg,{endpointParams:e,logger:t.logger}));M.mw.aws=z.UF;let eE=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??j.E,base64Encoder:e?.base64Encoder??j.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??eS,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??S,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new x.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new R.m}],logger:e?.logger??new m.N4,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??O.D,utf8Decoder:e?.utf8Decoder??W.ar,utf8Encoder:e?.utf8Encoder??W.Pq});var eP=n(52262);let ew=e=>{(0,m.I9)(process.version);let t=(0,eP.I)(e),n=()=>t().then(m.lT),r=eE(e);(0,v.I)(process.version);let s={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,T.Z)(A.$,s),bodyLengthChecker:e?.bodyLengthChecker??$.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,C.pf)({serviceId:r.serviceId,clientVersion:I.rE}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4")||(async t=>await e.credentialDefaultProvider(t?.__config||{})()),signer:new x.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new R.m}],maxAttempts:e?.maxAttempts??(0,T.Z)(h.qs,e),region:e?.region??(0,T.Z)(a.GG,{...a.zH,...s}),requestHandler:D.$c.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,T.Z)({...h.kN,default:async()=>(await n()).retryMode||K.L0},e),sha256:e?.sha256??k.V.bind(null,"sha256"),streamCollector:e?.streamCollector??D.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,T.Z)(a.e$,s),useFipsEndpoint:e?.useFipsEndpoint??(0,T.Z)(a.Ko,s),userAgentAppId:e?.userAgentAppId??(0,T.Z)(C.hV,s)}};var eb=n(41352),eI=n(31734);let ev=e=>{let t=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){let n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}},eA=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),ex=(e,t)=>{let n=Object.assign((0,eb.Rq)(e),(0,m.xA)(e),(0,eI.eS)(e),ev(e));return t.forEach(e=>e.configure(n)),Object.assign(e,(0,eb.$3)(n),(0,m.uv)(n),(0,eI.jt)(n),eA(n))};class eC extends m.Kj{config;constructor(...[e]){let t=ew(e||{});super(t),this.initConfig=t;let n=w(t),m=(0,o.Dc)(n),f=(0,h.$z)(m),g=(0,a.TD)(f),S=(0,r.OV)(g),E=ex(P((0,p.Co)(S)),e?.extensions||[]);this.config=E,this.middlewareStack.use((0,o.sM)(this.config)),this.middlewareStack.use((0,h.ey)(this.config)),this.middlewareStack.use((0,u.vK)(this.config)),this.middlewareStack.use((0,r.TC)(this.config)),this.middlewareStack.use((0,s.Y7)(this.config)),this.middlewareStack.use((0,i.n4)(this.config)),this.middlewareStack.use((0,l.w)(this.config,{httpAuthSchemeParametersProvider:y,identityProviderConfigProvider:async e=>new c.h({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,d.l)(this.config))}destroy(){super.destroy()}}var eR=n(8839);class ek extends m.TJ{constructor(e){super(e),Object.setPrototypeOf(this,ek.prototype)}}let eT=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:m.$H}}),eD=e=>({...e,...e.Credentials&&{Credentials:eT(e.Credentials)}});class e$ extends ek{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,e$.prototype)}}class eK extends ek{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,eK.prototype)}}class eO extends ek{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,eO.prototype)}}class ej extends ek{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,ej.prototype)}}class eW extends ek{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,eW.prototype)}}class ez extends ek{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,ez.prototype)}}let eM=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:m.$H}}),eU=e=>({...e,...e.Credentials&&{Credentials:eT(e.Credentials)}});class eq extends ek{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,eq.prototype)}}var eF=n(38430),eH=n(14851);let eV=(e,t)=>(0,eH.w)(e,t).then(e=>{if(e.length){let t,n=new eF.A({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10","\n");try{t=n.parse(e,!0)}catch(t){throw t&&"object"==typeof t&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}let r="#text",s=Object.keys(t)[0],i=t[s];return i[r]&&(i[s]=i[r],delete i[r]),(0,m.rm)(i)}return{}}),e_=async(e,t)=>{let n=await eV(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},eL=async(e,t)=>{let n;return n=t0({...e4(e,t),[tS]:tP,[tZ]:ty}),tf(t,tg,"/",void 0,n)},eN=async(e,t)=>{let n;return n=t0({...e5(e,t),[tS]:tI,[tZ]:ty}),tf(t,tg,"/",void 0,n)},eG=async(e,t)=>{if(e.statusCode>=300)return eZ(e,t);let n=await eV(e.body,t),r={};return r=tr(n.AssumeRoleResult,t),{$metadata:th(e),...r}},eB=async(e,t)=>{if(e.statusCode>=300)return eZ(e,t);let n=await eV(e.body,t),r={};return r=ts(n.AssumeRoleWithWebIdentityResult,t),{$metadata:th(e),...r}},eZ=async(e,t)=>{let n={...e,body:await e_(e.body,t)},r=t1(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await eJ(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await e0(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await e1(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await e2(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await eY(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await eQ(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await eX(n,t);default:return tm({output:e,parsedBody:n.body.Error,errorCode:r})}},eJ=async(e,t)=>{let n=e.body,r=to(n.Error,t),s=new e$({$metadata:th(e),...r});return(0,m.Mw)(s,n)},eY=async(e,t)=>{let n=e.body,r=ta(n.Error,t),s=new eq({$metadata:th(e),...r});return(0,m.Mw)(s,n)},eQ=async(e,t)=>{let n=e.body,r=tl(n.Error,t),s=new eW({$metadata:th(e),...r});return(0,m.Mw)(s,n)},eX=async(e,t)=>{let n=e.body,r=tc(n.Error,t),s=new ez({$metadata:th(e),...r});return(0,m.Mw)(s,n)},e0=async(e,t)=>{let n=e.body,r=td(n.Error,t),s=new eK({$metadata:th(e),...r});return(0,m.Mw)(s,n)},e1=async(e,t)=>{let n=e.body,r=tu(n.Error,t),s=new eO({$metadata:th(e),...r});return(0,m.Mw)(s,n)},e2=async(e,t)=>{let n=e.body,r=tp(n.Error,t),s=new ej({$metadata:th(e),...r});return(0,m.Mw)(s,n)},e4=(e,t)=>{let n={};if(null!=e[tU]&&(n[tU]=e[tU]),null!=e[tq]&&(n[tq]=e[tq]),null!=e[tK]){let r=e6(e[tK],t);e[tK]?.length===0&&(n.PolicyArns=[]),Object.entries(r).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}if(null!=e[t$]&&(n[t$]=e[t$]),null!=e[tR]&&(n[tR]=e[tR]),null!=e[tN]){let r=tt(e[tN],t);e[tN]?.length===0&&(n.Tags=[]),Object.entries(r).forEach(([e,t])=>{n[`Tags.${e}`]=t})}if(null!=e[tB]){let r=te(e[tB],t);e[tB]?.length===0&&(n.TransitiveTagKeys=[]),Object.entries(r).forEach(([e,t])=>{n[`TransitiveTagKeys.${e}`]=t})}if(null!=e[tT]&&(n[tT]=e[tT]),null!=e[t_]&&(n[t_]=e[t_]),null!=e[tG]&&(n[tG]=e[tG]),null!=e[tV]&&(n[tV]=e[tV]),null!=e[tj]){let r=e7(e[tj],t);e[tj]?.length===0&&(n.ProvidedContexts=[]),Object.entries(r).forEach(([e,t])=>{n[`ProvidedContexts.${e}`]=t})}return n},e5=(e,t)=>{let n={};if(null!=e[tU]&&(n[tU]=e[tU]),null!=e[tq]&&(n[tq]=e[tq]),null!=e[tY]&&(n[tY]=e[tY]),null!=e[tW]&&(n[tW]=e[tW]),null!=e[tK]){let r=e6(e[tK],t);e[tK]?.length===0&&(n.PolicyArns=[]),Object.entries(r).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}return null!=e[t$]&&(n[t$]=e[t$]),null!=e[tR]&&(n[tR]=e[tR]),n},e6=(e,t)=>{let n={},r=1;for(let s of e)null!==s&&(Object.entries(e8(s,t)).forEach(([e,t])=>{n[`member.${r}.${e}`]=t}),r++);return n},e8=(e,t)=>{let n={};return null!=e[tQ]&&(n[tQ]=e[tQ]),n},e3=(e,t)=>{let n={};return null!=e[tO]&&(n[tO]=e[tO]),null!=e[tC]&&(n[tC]=e[tC]),n},e7=(e,t)=>{let n={},r=1;for(let s of e)null!==s&&(Object.entries(e3(s,t)).forEach(([e,t])=>{n[`member.${r}.${e}`]=t}),r++);return n},e9=(e,t)=>{let n={};return null!=e[tD]&&(n[tD]=e[tD]),null!=e[tJ]&&(n[tJ]=e[tJ]),n},te=(e,t)=>{let n={},r=1;for(let t of e)null!==t&&(n[`member.${r}`]=t,r++);return n},tt=(e,t)=>{let n={},r=1;for(let s of e)null!==s&&(Object.entries(e9(s,t)).forEach(([e,t])=>{n[`member.${r}.${e}`]=t}),r++);return n},tn=(e,t)=>{let n={};return null!=e[tw]&&(n[tw]=(0,m.lK)(e[tw])),null!=e[tv]&&(n[tv]=(0,m.lK)(e[tv])),n},tr=(e,t)=>{let n={};return null!=e[tx]&&(n[tx]=ti(e[tx],t)),null!=e[tb]&&(n[tb]=tn(e[tb],t)),null!=e[tz]&&(n[tz]=(0,m.xW)(e[tz])),null!=e[tV]&&(n[tV]=(0,m.lK)(e[tV])),n},ts=(e,t)=>{let n={};return null!=e[tx]&&(n[tx]=ti(e[tx],t)),null!=e[tH]&&(n[tH]=(0,m.lK)(e[tH])),null!=e[tb]&&(n[tb]=tn(e[tb],t)),null!=e[tz]&&(n[tz]=(0,m.xW)(e[tz])),null!=e[tM]&&(n[tM]=(0,m.lK)(e[tM])),null!=e[tA]&&(n[tA]=(0,m.lK)(e[tA])),null!=e[tV]&&(n[tV]=(0,m.lK)(e[tV])),n},ti=(e,t)=>{let n={};return null!=e[tE]&&(n[tE]=(0,m.lK)(e[tE])),null!=e[tF]&&(n[tF]=(0,m.lK)(e[tF])),null!=e[tL]&&(n[tL]=(0,m.lK)(e[tL])),null!=e[tk]&&(n[tk]=(0,m.Y0)((0,m.t_)(e[tk]))),n},to=(e,t)=>{let n={};return null!=e[tX]&&(n[tX]=(0,m.lK)(e[tX])),n},ta=(e,t)=>{let n={};return null!=e[tX]&&(n[tX]=(0,m.lK)(e[tX])),n},tl=(e,t)=>{let n={};return null!=e[tX]&&(n[tX]=(0,m.lK)(e[tX])),n},tc=(e,t)=>{let n={};return null!=e[tX]&&(n[tX]=(0,m.lK)(e[tX])),n},td=(e,t)=>{let n={};return null!=e[tX]&&(n[tX]=(0,m.lK)(e[tX])),n},tu=(e,t)=>{let n={};return null!=e[tX]&&(n[tX]=(0,m.lK)(e[tX])),n},tp=(e,t)=>{let n={};return null!=e[tX]&&(n[tX]=(0,m.lK)(e[tX])),n},th=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),tm=(0,m.jr)(ek),tf=async(e,t,n,r,s)=>{let{hostname:i,protocol:o="https",port:a,path:l}=await e.endpoint(),c={protocol:o,hostname:i,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+n:l+n,headers:t};return void 0!==r&&(c.hostname=r),void 0!==s&&(c.body=s),new eI.Kd(c)},tg={"content-type":"application/x-www-form-urlencoded"},ty="2011-06-15",tS="Action",tE="AccessKeyId",tP="AssumeRole",tw="AssumedRoleId",tb="AssumedRoleUser",tI="AssumeRoleWithWebIdentity",tv="Arn",tA="Audience",tx="Credentials",tC="ContextAssertion",tR="DurationSeconds",tk="Expiration",tT="ExternalId",tD="Key",t$="Policy",tK="PolicyArns",tO="ProviderArn",tj="ProvidedContexts",tW="ProviderId",tz="PackedPolicySize",tM="Provider",tU="RoleArn",tq="RoleSessionName",tF="SecretAccessKey",tH="SubjectFromWebIdentityToken",tV="SourceIdentity",t_="SerialNumber",tL="SessionToken",tN="Tags",tG="TokenCode",tB="TransitiveTagKeys",tZ="Version",tJ="Value",tY="WebIdentityToken",tQ="arn",tX="message",t0=e=>Object.entries(e).map(([e,t])=>(0,m.$6)(e)+"="+(0,m.$6)(t)).join("&"),t1=(e,t)=>t.Error?.Code!==void 0?t.Error.Code:404==e.statusCode?"NotFound":void 0;class t2 extends m.uB.classBuilder().ep(b).m(function(e,t,n,r){return[(0,eR.TM)(n,this.serialize,this.deserialize),(0,p.rD)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,eD).ser(eL).de(eG).build(){}class t4 extends m.uB.classBuilder().ep(b).m(function(e,t,n,r){return[(0,eR.TM)(n,this.serialize,this.deserialize),(0,p.rD)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(eM,eU).ser(eN).de(eB).build(){}class t5 extends eC{}(0,m.J1)({AssumeRoleCommand:t2,AssumeRoleWithWebIdentityCommand:t4},t5);var t6=n(21459);let t8="us-east-1",t3=e=>{if("string"==typeof e?.Arn){let t=e.Arn.split(":");if(t.length>4&&""!==t[4])return t[4]}},t7=async(e,t,n)=>{let r="function"==typeof e?await e():e,s="function"==typeof t?await t():t;return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${r} (provider)`,`${s} (parent client)`,`${t8} (STS default)`),r??s??t8},t9=(e,t)=>{let n,r;return async(s,i)=>{if(r=s,!n){let{logger:s=e?.parentClientConfig?.logger,region:i,requestHandler:o=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e,l=await t7(i,e?.parentClientConfig?.region,a),c=!nt(o);n=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>r,region:l,requestHandler:c?o:void 0,logger:s})}let{Credentials:o,AssumedRoleUser:a}=await n.send(new t2(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let l=t3(a),c={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...l&&{accountId:l}};return(0,t6.g)(c,"CREDENTIALS_STS_ASSUME_ROLE","i"),c}},ne=(e,t)=>{let n;return async r=>{if(!n){let{logger:r=e?.parentClientConfig?.logger,region:s,requestHandler:i=e?.parentClientConfig?.requestHandler,credentialProviderLogger:o}=e,a=await t7(s,e?.parentClientConfig?.region,o),l=!nt(i);n=new t({profile:e?.parentClientConfig?.profile,region:a,requestHandler:l?i:void 0,logger:r})}let{Credentials:s,AssumedRoleUser:i}=await n.send(new t4(r));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);let o=t3(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&(0,t6.g)(a,"RESOLVED_ACCOUNT_ID","T"),(0,t6.g)(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},nt=e=>e?.metadata?.handlerProtocol==="h2",nn=(e,t)=>t?class extends e{constructor(e){for(let n of(super(e),t))this.middlewareStack.use(n)}}:e,nr=(e={},t)=>t9(e,nn(eC,t)),ns=(e={},t)=>ne(e,nn(eC,t))},24171:e=>{e.exports={rE:"3.858.0"}}};